<h2>Dashboard</h2>
<div class="content container-fluid" id="dashboardAluno">
    <div class="row">
        <div class="col-md-6">
            <div id="bloco-anotacoes-container" class="card p-3">
                <h5>Bloco de Anotações</h5>
                <textarea id="bloco-anotacoes" class="form-control" rows="5" maxlength="100"
                    placeholder="Escreva aqui"></textarea>
                <small id="contador-anotacoes" class="form-text text-muted"></small>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card p-3 text-center d-flex flex-column align-items-center"
                style="position: relative; width: 100%; height: 300px; overflow: hidden;">
                <h5>Geral</h5>
                <span id="informativoSemDadosGerais">Não há dados gerais registrados</span>
                <div style="flex-grow: 1; display: flex; align-items: center; justify-content: center;">
                    <canvas id="graficoGeral" style="max-width: 100%; max-height: 200px;"></canvas>
                </div>
            </div>
        </div>
        <div class="row mt-4 align-items-stretch">
            <div class="col-md-3 d-flex">
                <div class="card p-3 w-100">
                    <div id="calendar" class="calendar"></div>
                </div>
            </div>

            <div class="col-md-6 d-flex">
                <div class="card p-3 text-center d-flex flex-column align-items-center w-100">
                    <h5>Desempenho</h5>
                    <span id="informativoSemDesempenho">Não há desempenho registrado</span>
                    <canvas id="graficoDesempenho" style="max-height: 300px; width: 100%;"></canvas>
                </div>
            </div>
        </div>
        <div class="col-md-3 d-none">
            <div class="card p-3 text-center d-flex flex-column align-items-center" style="height: 100%;">
                <h5>Dependentes Vinculados</h5>
                <ul class="list-unstyled text-start" id="dependentesVinculados"></ul>
                <button class="btn btn-outline-primary btn-block" onclick="redirecionarCadastroUsuario()">Cadastrar
                    Dependente</button>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        carregarGraficosAluno()
        async function carregarGraficosAluno(idAluno) {
            const dados = await executarRequisicao(`relatorio/relatorio-desempenho/${parseInt(localStorage.getItem('idAluno'))}`, "", "GET");
            gerarGraficos(dados, 'graficoDesempenho', 'graficoGeral');
        }
    }) 
</script>