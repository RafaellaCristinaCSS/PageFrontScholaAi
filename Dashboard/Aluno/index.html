<h2>Dashboard</h2>
<div class="content container-fluid">
    <div class="row">
        <div class="col-md-6">
            <div class="card p-3" style="height: 100%;">
                <h5>Bloco de Anotações</h5>
                <textarea class="form-control" rows="6" placeholder="Escreva aqui"></textarea>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card p-3 text-center d-flex flex-column align-items-center"
                style="position: relative; width: 100%; height: 300px;">
                <h5>Geral</h5>
                <canvas id="graficoGeral" width="100" height="100"></canvas>
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-md-3">
            <div class="card p-3 text-center">
                <div id="calendar" class="calendar"></div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card p-3 text-center d-flex flex-column align-items-center">
                <h5>Desempenho</h5>
                <canvas id="graficoDesempenho" width="300" height="100"></canvas>
            </div>
        </div>
        <div class="col-md-3 d-none">
            <div class="card p-3 text-center d-flex flex-column align-items-center" style="height: 100%;">
                <h5>Dependentes Vinculados</h5>
                <ul class="list-unstyled text-start" id="dependentesVinculados"></ul>
                <button class="btn btn-outline-primary btn-block" onclick="redirecionarCadastroUsuario()">Cadastrar
                    Dependente</button>
            </div>
        </div>
    </div>
</div>
<script>
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        locale: 'pt-br',
        events: [
            {
                title: 'Reunião',
                start: '2025-05-20'
            },
            {
                title: 'Entrega de projeto',
                start: '2025-05-22'
            }
        ]
    });
    calendar.render();
    carregarGraficosAluno()
    async function carregarGraficosAluno(idAluno) {
        const dados = await executarRequisicao(`api/relatorio/relatorio-desempenho/${parseInt(localStorage.getItem('idAluno'))}`, "", "GET");
        gerarGraficos(dados, 'graficoDesempenho', 'graficoGeral');
    }
</script>